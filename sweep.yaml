program: run_common_voice.py
name: hf-wav2vec-sprint-vi
method: random
metric:
  goal: minimize
  name: eval/loss
parameters:
  seed:
    value: 42
  report_to: 
    value: wandb
  model_name_or_path:
    values: [facebook/wav2vec2-large-xlsr-53, facebook/wav2vec2-large-100k-voxpopuli]
  dataset_config_name:
    value: vi
  output_dir:
    value: ../models/vi/wav2vec2-large-xlsr-vi-sweep
  cache_dir:
    value: ../data/vi
  overwrite_output_dir:
    value: True
  fp16:
    value: False
  max_steps:
    value: 4000
  eval_steps:
    value: 200
  logging_steps:
    value: 200
  do_eval:
    value: True
  do_train:
    value: True
  per_device_train_batch_size:
    value: 32
  per_device_eval_batch_size:
    value: 32
  dataloader_num_workers:
    value: 10
  preprocessing_num_workers:
    value: 10
  load_best_model_at_end:
    value: True
  save_total_limit:
    value: 1
  evaluation_strategy:
    value: steps
  freeze_feature_extractor:
    value: True
  group_by_length:
    value: True
  min_duration:
    value: 2.0
  max_duration:
    value: 9.0
  lr_warmup_ratio:
    value: 0.5
  lr_constant_ratio:
    value: 0.0
  layerdrop:
    value: 0.0
  learning_rate:
    values: [1e-3, 1e-4, 3e-4, 6e-4]
  attention_dropout:
    values: [0.05, 0.1, 0.2]
  activation_dropout:
    values: [0.05, 0.1, 0.2]
  hidden_dropout:
    values: [0.05, 0.1, 0.2]
  feat_proj_dropout:
    values: [0.05, 0.1, 0.2]
  mask_time_prob:
    values: [0.05, 0.1, 0.2]
  val_ratio:
    value: 1.0
  upload_final_model_to_wandb:
    value: True
  apply_gaussian_noise_with_p:
    values: [0.0, 0.5, 0.75]
  apply_gain_with_p:
    values: [0.0, 0.5, 0.75]
  apply_pitch_shift_with_p:
    values: [0.0, 0.5, 0.75]
  apply_time_stretch_with_p:
    values: [0.0, 0.5, 0.75]
early_terminate:
  type: hyperband
  min_iter: 200
